\chapter{Relationen}
\href{https://de.wikipedia.org/wiki/Relation_(Mathematik)#Zweistellige_Relation}{Relationen} treten
in der Informatik an vielen Stellen auf.  Die wichtigste Anwendung findet sich in der Theorie der
\href{https://de.wikipedia.org/wiki/Relationale_Datenbank}{relationalen Datenbanken}. 
Wir betrachten im Folgenden den Spezialfall der \blue{binären Relationen} und beleuchten
das Verhältnis von binären Relationen und Funktionen. Wir werden sehen, dass wir
Funktionen als spezielle binäre Relationen auffassen können.  Damit stellt der Begriff der
binären Relationen eine Verallgemeinerung des Funktions-Begriffs dar.
Zum Abschluss des Kapitels führen wir dann 
\href{https://de.wikipedia.org/wiki/Ordnungsrelation}{Ordnungs-Relationen} und 
\href{https://en.wikipedia.org/wiki/Equivalence_relation}{Äquivalenz-Relationen} ein.
Dabei handelt es sich um grundlegende Konzepte, die jeder Informatiker kennen sollte.

Ist eine Menge $R$ als Teilmenge des kartesischen Produkts zweier Mengen $M$ und $N$ gegeben, gilt
also 
\\[0.2cm]
\hspace*{1.3cm}
$R \subseteq M \times N$, 
\\[0.2cm]
so bezeichnen wir $R$ auch als 
\href{https://en.wikipedia.org/wiki/Binary_relation}{binäre Relation}.  In diesem Fall definieren
wir den  \blue{Definitions-Bereich} von $R$ als 
\\[0.2cm]
\hspace*{1.3cm}
$\dom(R) := \{ x \mid \exists y \in N \colon \langle x, y \rangle \in R \}$.  
\\[0.2cm]
Entsprechend wird der \blue{Werte-Bereich} von $R$ als 
\\[0.2cm]
\hspace*{1.3cm}
$\rng(R) := \{ y \mid \exists x \in M \colon \langle x, y \rangle \in R\}$ \\[0.2cm]
definiert.  

\example
Es sei $M := \{1,2,3\}$ und $N := \{1,2,3,4,5\}$.  Wir definieren die Relation $R \subseteq M \times N$ 
als
\\[0.2cm]
\hspace*{1.3cm}
 $R = \{ \pair(1,1), \pair(1,2), \pair(3,5) \}$.  
\\[0.2cm]
Dann gilt 
\\[0.2cm]
\hspace*{1.3cm} $\dom(R) = \{1,3\}$ \quad und \quad $\rng(R) = \{1,2,5\}$. 
\\[0.2cm]
Dieses Beispiel zeigt, dass der Begriff der \blue{Relation} eine Verallgemeinerung des Begriffs
der Funktion ist.  Das liegt daran, dass eine Funktion jedem Argument genau ein Wert zugeordnet
wird.  Bei einer Relation können hingegen einem Argument auch \emph{mehrere} Werte zugeordnet werden.
Ebenso ist es bei einer Relation möglich, dass einem Argument \emph{kein} Wert zugeordnet wird.
Beispielsweise ordnet die oben angegebene Relation $R$ der Zahl $1$ sowohl die Zahl $1$ als auch die
Zahl $2$ zu, während der Zahl $2$ kein Wert zugeordnet wird.
\eox

\noindent
Das nächste, stark vereinfachte Beispiel gibt einen Vorgeschmack von der Bedeutung binärer
Relationen in der Theorie der \blue{relationalen Datenbanken}.

\example
Ein Autoverkäufer speichert in seiner Datenbank, welcher Kunde welches Auto gekauft hat.
Nehmen wir an, dass die Mengen \textsl{Auto} und \textsl{Kunde} wie folgt gegeben sind:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Kunde} = \{ \mathrm{Bauer}, \mathrm{Maier}, \mathrm{Schmidt} \}$
\quad und \quad
$\textsl{Auto} = \{ \mathrm{Polo}, \mathrm{Fox}, \mathrm{Golf} \}$.
\\[0.2cm]
Dann könnte die binäre Relation 
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Verkauf} \subseteq \textsl{Kunde} \times \textsl{Auto}$
\\[0.2cm]
beispielsweise durch die folgende Menge gegeben sein:
\\[0.2cm]
\hspace*{1.3cm}
$\{ \pair(\mathrm{Bauer}, \mathrm{Golf}), \pair(\mathrm{Bauer}, \mathrm{Fox}), \pair(\mathrm{Schmidt}, \mathrm{Polo})\}$.
\\[0.2cm]
Diese Relation würde ausdrücken, dass der Kunde Herr Bauer einen Golf und einen Fox erworben
hat, die Kundin Frau Schmidt hat einen Polo gekauft und Herr Maier hat bisher noch kein Auto erworben.
In der Theorie der \blue{relationalen} Datenbanken werden Relationen üblicherweise in Form von \blue{Tabellen}
dargestellt. Die oben angegebene Relation hätte dann die folgende Form:
\begin{center}
  \begin{tabular}[c]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\end{center}
Die oberste Zeile, in der wir die Spalten\"uberschriften ``\textsl{Kunde}'' und ``\textsl{Auto}''
angeben,  gehört selbst nicht zu der Relation, sondern wird als \blue{Relationen-Schema}
bezeichnet und die Relation zusammen mit ihrem Relationen-Schema nennen wir \blue{Tabelle}.  


\section{Funktionale Relationen}
Wir hatten schon gesehen, dass Relationen als Verallgemeinerungen von Funktionen aufgefasst werden
können.  Wir wollen als nächstes untersuchen, unter welchen Umständen eine Relation als Funktion aufgefasst
werden kann.  Zu diesem Zweck folgt nun eine Definition.

\begin{Definition}[links-eindeutig, rechts-eindeutig] \hspace*{\fill} \\
  Wir nennen eine Relation $R \subseteq M \times N$ 
  \colorbox{yellow}{\blue{rechts-eindeutig},} wenn folgendes gilt: \\[0.2cm]
  \hspace*{1.3cm} 
  $\forall x \el M \colon \forall y_1, y_2 \el N \colon \bigl(\langle x, y_1 \rangle \in R \wedge \langle x, y_2 \rangle \in R \rightarrow y_1 = y_2\bigr)$.
  \\[0.2cm]
  Bei einer rechts-eindeutigen Relation $R \subseteq M \times N$ gibt es also zu jedem $x\in M$ \emph{höchstens} ein $y \in N$, 
  so dass $\langle x, y \rangle \in R$ gilt.  Entsprechend nennen wir eine Relation $R \subseteq M \times N$ 
  \colorbox{yellow}{\blue{links-eindeutig},} wenn gilt: \\[0.2cm]
  \hspace*{1.3cm} 
  $\forall y \el N \colon \forall x_1, x_2 \el M \colon \bigl(\langle x_1, y \rangle \in R \wedge \langle x_2, y \rangle \in R \rightarrow x_1 = x_2\bigr)$.
  \\[0.2cm]
  Bei einer links-eindeutigen Relation $R \subseteq M \times N$ 
  gibt es also zu jedem $y\in N$ \emph{höchstens} ein $x \in M$, so
  dass $\langle x, y \rangle \in R$ gilt. \eox
\end{Definition}


\noindent
\textbf{Beispiele}: Es sei $M = \{1,2,3\}$ und $N = \{4,5,6\}$.
\begin{enumerate}
\item Die Relation $R_1$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_1 = \{ \pair(1,4), \pair(1,6) \}$. \\[0.2cm]
      Diese Relation ist \textbf{nicht} rechts-eindeutig, denn  $4 \not= 6$.
      Die Relation ist links-eindeutig, denn die rechten Seiten aller in $R_1$
      auftretenden Tupel sind verschieden.
\item Die Relation $R_2$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_2 = \{ \pair(1,4), \pair(2,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$ auftretenden
      Tupel sind verschieden.  Sie ist auch links-eindeutig, denn die rechten Seiten aller
      in $R_2$ auftretenden Tupel sind verschieden. 
\item Die Relation $R_3$ sei definiert durch \\[0.2cm]
      \hspace*{1.3cm} $R_3 = \{ \pair(1,4), \pair(2,6), \pair(3,6) \}$. \\[0.2cm]
      Diese Relation ist rechts-eindeutig, denn die linken Seiten aller in $R_2$       auftretenden
      Tupel sind verschieden.  Sie ist \textbf{nicht} links-eindeutig, denn es gilt
      $\pair(2,6) \el R$ und $\pair(3,6) \el R$, aber $2 \not= 3$.
\end{enumerate}

\begin{Definition}[links-total, rechts-total]
  Eine binäre Relation $R \subseteq M \times N$ heißt \colorbox{yellow}{\blue{links-total auf $M$},} wenn 
  \\[0.2cm]
  \hspace*{1.3cm}
  $\forall x \in M \colon \exists y \in N \colon \pair(x,y) \in R$ 
  \\[0.2cm]
  gilt. Dann gibt es für alle $x$ aus der Menge $M$ ein $y$ aus der Menge $N$, so dass
  $\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem letzten Beispiel ist
  links-total, denn jedem Element aus $M$ wird durch $R_3$ ein Element aus $N$ zugeordnet.

  Analog nennen wir eine binäre Relation $R \subseteq M \times N$ 
  \colorbox{yellow}{\blue{rechts-total auf $N$},} wenn 
  \\[0.2cm]
  \hspace*{1.3cm}
  $\forall y \in N \colon \exists x \in M \colon \pair(x,y) \in R$ 
  \\[0.2cm]
  gilt. Dann gibt es für alle $y$ aus der Menge $N$ ein $x$ aus der Menge $M$, so dass
  $\pair(x,y)$ in der Menge  $R$ liegt.  Die Relation $R_3$ aus dem letzten Beispiel ist
  nicht rechts-total, denn dem Element $5$ aus $N$ wird durch $R_3$ kein Element aus $M$
  zugeordnet, denn für alle $\pair(x,y) \in R_3$ gilt $y \not= 5$. \eoxs
\end{Definition}

\remark
In der Literatur werden links-totale Relationen gelegentlich auch als
\blue{links-vollständige} Relationen  
bezeichnet.  Rechts-totale Relationen heißen dann \blue{rechts-vollständig}. \eoxs

\begin{Definition}
Eine Relation $R \subseteq M \times N$, die sowohl links-total auf $M$ als auch rechts-eindeutig
ist, nennen wir eine \colorbox{yellow}{\blue{funktionale Relation auf $M$.}}    \eoxs
\end{Definition}


\begin{Satz}
  Ist $R \subseteq M \times N$ eine funktionale Relation auf $M$, so können wir eine Funktion
  $f_R\colon M \rightarrow N$ wie folgt definieren:
  \\[0.2cm]
  \hspace*{1.3cm}
  $f_R(x) := y \;\stackrel{\mathrm{def}}{\Longleftrightarrow}\; \pair(x,y) \in R$. 
\end{Satz}


\proof
Diese Definition funktioniert, denn aus der Links-Totalität von $R$ auf $M$ folgt, dass es für 
jedes $x\in M$ auch ein $y \in N$ gibt, so dass $\pair(x,y) \in R$ ist.  Aus der
Rechts-Eindeutigkeit von $R$ folgt dann, dass dieses $y$ eindeutig bestimmt ist. \qeds

\remark
Ist umgekehrt eine Funktion \mbox{$f:M \rightarrow N$} gegeben, so können wir dieser Funktion
eine Relation $\textsl{graph}(f) \subseteq M \times N$ zuordnen, indem wir definieren: 
\[ \textsl{graph}(f) := \bigl\{ \langle x,f(x) \rangle \mid  x\in M \bigr\}. \]
Die so definierte Relation $\textsl{graph}(f)$ ist links-total auf $M$, denn die Funktion $f$
berechnet ja für jedes $x \el M$ ein Ergebnis und die Relation ist rechts-eindeutig,
denn die Funktion berechnet für jedes Argument immer nur ein Ergebnis. \eox

Aufgrund der gerade diskutierten Korrespondenz zwischen Funktionen und Relationen
werden wir daher im Folgenden alle Funktionen als spezielle binäre Relationen auffassen.
Für die Menge aller Funktionen von $M$ nach $N$ schreiben wir auch $N^M$, genauer
definieren wir
\\[0.2cm]
\hspace*{1.3cm}
$\ds N^M := \bigl\{ R \subseteq M \times N \mid \mbox{$R$ ist funktionale Relation auf $M$}\, \bigr\}$. 
\\[0.2cm]
Diese Schreibweise erklärt sich wie folgt: Sind $M$ und $N$ endliche Mengen mit $m$
bzw.~$n$ Elementen, so gibt es genau $n^m$ verschiedene Funktionen von $M$ nach $N$, es
gilt also
\[ \textsl{card}\left(N^M\right) = \textsl{card}(N)^{\textsl{card}(M)}. \]
Wir werden daher funktionale Relationen und die entsprechenden Funktionen identifizieren.
Damit ist dann für eine funktionale Relation $R \subseteq M \times N$ auf $M$ und ein $x \in M$
auch die Schreibweise $R(x)$ zulässig: Mit $R(x)$ bezeichnen wir dasjenige eindeutig bestimmte $y \in N$,
für welches $\pair(x,y) \in R$ gilt.
\pagebreak

\examples
\begin{enumerate}
\item Wir setzen $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,4),\pair(3,9) \}$. \\[0.2cm]
      Dann ist $R$ eine funktionale Relation auf $M$.  Diese Relation berechnet
      gerade die Quadrat-Zahlen auf der Menge $M$.
\item Diesmal setzen wir $M = \{1,2,3,4,5,6,7,8,9\}$ und $N = \{1,2,3\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(4,2),\pair(9,3) \}$. \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht links-total auf
      $M$.  Beispielsweise wird das Element $2$ von der Relation $R$ auf kein Element aus 
      $N$ abgebildet.
\item Wir setzen nun  $M = \{1,2,3\}$, $N = \{1,2,3,4,5,6,7,8,9\}$ und definieren \\[0.2cm]
      \hspace*{1.3cm} $R := \{ \pair(1,1),\pair(2,3),\pair(2,4),\pair(3,9) \}$ \\[0.2cm]
      Dann ist $R$ keine funktionale Relation auf $M$, denn $R$ ist nicht rechts-eindeutig auf
      $M$.  Das liegt daran, dass das Element $2$ von der Relation $R$ sowohl auf $3$ als
      auch auf $4$ abgebildet wird. \eox
\end{enumerate}

\begin{Definition}[Bild]
  Ist $R \subseteq M \times N$ eine binäre Relation und ist weiter $X \subseteq M$, so
  definieren wir das \blue{Bild von $X$ unter $R$} als \\[0.2cm]
  \hspace*{1.3cm}
  $R(X) := \bigl\{ y \mid \exists x \in X \colon \pair(x,y) \in R \bigr\}$. \eox
\end{Definition}

\section{Inverse Relation}
Zu einer  Relation $R \subseteq M \times N$ definieren wir die \colorbox{yellow}{\blue{inverse Relation}}  
$R^{-1} \subseteq N \times M$ wie folgt: 
\\[0.2cm]
\hspace*{1.3cm}
$R^{-1} := \bigl\{ \pair(y,x) \mid \pair(x,y) \in R  \bigr\}$. 
\\[0.2cm]
Aus dieser Definition folgt sofort, dass $R^{-1}$ rechts-eindeutig ist genau dann, wenn
$R$ links-eindeutig ist.  Außerdem ist $R^{-1}$ links-total auf $N$ genau dann, wenn $R$
rechts-total auf $N$ ist.  Ist eine Relation sowohl links-eindeutig als auch rechts-eindeutig und
außerdem sowohl links-total auf $M$ als auch rechts-total auf $N$, so nennen wir sie auch 
\colorbox{yellow}{\blue{bijektiv}}.
In diesem Fall lässt sich neben der Funktion
$f_R$ auch eine Funktion $f_{R^{-1}}$ definieren.  Die Definition der letzten Funktion
lautet ausgeschrieben: \\[0.2cm]
\hspace*{1.3cm} $f_{R^{-1}}(y) := x \;\stackrel{\mathrm{def}}{\Longleftrightarrow}\; \pair(y,x) \in R^{-1} \Longleftrightarrow \pair(x,y) \in R$. \\[0.2cm]
Diese Funktion ist dann aber genau die Umkehr-Funktion von $f_R$, es gilt \\[0.2cm]
\hspace*{1.3cm}
 $\forall y \in N \colon f_R\bigl(f_{R^{-1}}(y)\bigr) = y$ \quad und \quad
 $\forall x \in M \colon f_{R^{-1}}\bigl(f_R(x)\bigr) = x$. \\[0.2cm]
Dieser Umstand rechtfertigt im Nachhinein die Schreibweise $R^{-1}$.

\section{Komposition von Relationen}
Ähnlich wie wir Funktionen verknüpfen können, können auch Relationen verknüpft werden.
Wir betrachten zunächst Mengen $L$, $M$ und $N$.
Sind dort zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ definiert,
so ist das \colorbox{yellow}{\blue{relationale Produkt}} $R \circ Q$ von $R$ und $Q$ als die folgende Relation definiert:
\\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon\bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \bigr\}$ 
\\[0.2cm]
Offenbar gilt $R \circ Q \subseteq L \times N$.
Das relationale Produkt von $R$ und $Q$ wird gelegentlich auch als die \colorbox{yellow}{\blue{Komposition}} von
$Q$ und $R$ bezeichnet.  In der Theorie der relationalen Datenbanken werden Sie dem relationalen Produkt
wiederbegegnen, denn der 
\href{http://en.wikipedia.org/wiki/Join_(SQL)}{Join-Operator}, der in
Datenbankabfrage-Sprachen wie 
\href{http://en.wikipedia.org/wiki/SQL}{\textsc{Sql}} benutzt wird, ist eine Verallgemeinerung des
relationalen Produkts.
\vspace{0.2cm}

\example
Es sei $L = \{1,2,3\}$, $M = \{4,5,6\}$ und $N = \{7,8,9\}$.  Weiter seien die Relationen
$Q$ und $R$ wie folgt gegeben: \\[0.2cm]
\hspace*{1.3cm} $R = \{ \pair(1,4), \pair(1,6), \pair(3,5) \}$ \quad und \quad
                $Q = \{ \pair(4,7), \pair(6,8), \pair(6,9) \}$. \\[0.2cm]
Dann gilt \\[0.2cm]
\hspace*{1.3cm} $R \circ Q = \{ \pair(1,7), \pair(1,8), \pair(1,9) \}$. \eox

\exercise
Es sei $R \subseteq L \times M$ eine funktionale Relation auf $L$ und 
$Q \subseteq M \times N$ sei eine funktionale Relation auf $M$.  Zeigen Sie, dass dann auch 
$R \circ Q$ eine funktionale Relation auf $L$ ist und zeigen Sie weiter, dass die Funktion $f_{R \circ Q}$
wie folgt aus den Funktionen $f_R$ und $f_Q$ berechnet werden kann:
\\[0.2cm]
\hspace*{1.3cm}
$f_{R \circ Q}(x) = f_Q\bigl(f_R(x)\bigr)$. \eox

\noindent
\colorbox{red}{\framebox{\colorbox{blue}{\framebox{\colorbox{yellow}{
\begin{minipage}[t]{0.92\linewidth}
\noindent
\textbf{Achtung}: In einigen Lehrbüchern wird das relationale Produkt, 
das wir als $R \circ Q$ definiert haben, mit $Q \circ R$
bezeichnet. Damit lautet die Definition von $R \circ Q$  dann wie folgt:
Ist $R \subseteq M \times N$ und $Q \subseteq L \times M$, dann ist 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ Q := \bigl\{ \pair(x,z) \mid \exists y \in M \colon\bigl(\pair(x,y) \in Q \wedge \pair(y,z) \in R\bigr) \bigr\}$.
\\[0.2cm]
Diese Definition hat den folgenden Vorteil: Falls $R$ und $Q$ funktionale Relationen sind und wenn
dann weiter $f$ und $g$ die diesen Relationen zugeordneten Funktionen sind, wenn also 
\\[0.2cm]
\hspace*{1.3cm}
$Q = \textsl{graph}(f)$ \quad und \quad $R = \textsl{graph}(g)$
\\[0.2cm]
gilt, dann haben wir für die Komposition der Funktionen $f$ und $g$, die durch
\\[0.2cm]
\hspace*{1.3cm}
 $(g \circ f)(x) = g\bigl(f(x)\bigr)$ 
\\[0.2cm]
definiert ist, die Gleichung
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{graph}(g \circ f) = R \circ Q = \textsl{graph}(g) \circ \textsl{graph}(f)$.
\\[0.2cm]
Die von uns verwendete Definition hat den Vorteil, dass die Berechnung des 
\blue{transitiven Abschlusses}  einer Relation, die wir später noch geben werden, intuitiver wird.
\eoxs
\end{minipage}}}}}}
\vspace{0.2cm}

\example
Das nächste Beispiel zeigt die Verwendung des relationalen Produkts im Kontext einer
Datenbank.  Wir nehmen an, dass die Datenbank eines Autohändlers unter anderem die
folgenden beiden Tabellen enthält.
\begin{center}
\textsl{Kauf}:  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Auto} \\
\hline
\hline
  Bauer   & Golf \\
\hline
  Bauer   & Fox  \\
\hline
  Schmidt & Polo \\
\hline
  \end{tabular}
\qquad \textsl{Preis}:
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Auto} & \textsl{Betrag} \\
\hline
\hline
  Golf    & $20\,000$ \\
\hline
  Fox     & $10\,000$ \\
\hline
  Polo    & $13\,000$ \\
\hline
  \end{tabular}
\end{center}
Dann ist das relationale Produkt der in den Tabellen \textsl{Kauf} und \textsl{Preis}
dargestellten Relationen durch die in der folgenden Tabelle dargestellten Relation
gegeben:

\begin{center}
  \begin{tabular}[t]{|l|l|}
\hline
\textsl{Kunde} & \textsl{Betrag} \\
\hline
\hline
  Bauer   & $20\,000$ \\
\hline
  Bauer   & $10\,000$ \\
\hline
  Schmidt & $13\,000$ \\
\hline
  \end{tabular} 
\end{center}
Diese Relation könnte dann zur Rechnungsstellung weiterverwendet werden. \eox


\section{Eigenschaften des relationalen Produkts}
\begin{Satz}
  Die Komposition von Relationen ist \blue{assoziativ}:  Sind \\[0.2cm]
  \hspace*{1.3cm} 
  $R \subseteq K \times L$, \quad $Q \subseteq L \times M$ \quad und \quad 
  $P \subseteq M \times N$ \\[0.2cm]
  binäre Relationen, so gilt \\[0.2cm]
  \hspace*{1.3cm} $(R \circ Q) \circ P = R \circ (Q \circ P)$. 
\end{Satz}


\proof
Wir zeigen, dass
\begin{equation}
  \label{eq:ass0}
   \pair(x,u) \in (R \circ Q) \circ P \leftrightarrow \pair(x,u) \in R \circ (Q \circ P)   
\end{equation}
gilt.  Dazu formen wir zunächst die linke Seite $\pair(x,u) \in (R \circ Q) \circ P$ der Äquivalenz
\ref{eq:ass0} um.  Es gilt
\[
\begin{array}{cll}
                  & \pair(x,u) \in (R \circ Q) \circ P \\[0.2cm]
  \Leftrightarrow & \exists z: \bigl(\pair(x,z) \in R \circ Q \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; (R \circ Q) \circ P \\[0.2cm]
  \Leftrightarrow & \exists z: \bigl(\bigl(\exists y: \pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \wedge \pair(z,u) \in P\bigr) &
                    \mbox{nach Def. von}\; R \circ Q \\
\end{array}
\]
Da die Variable $y$ in der Formel $\pair(z,u) \in P$ nicht auftritt, können wir den
Existenz-Quantor über $y$ auch herausziehen, so dass wir die obige Kette von Äquivalenzen zu
\begin{equation}
  \label{eq:ass1}
  \Leftrightarrow \quad 
  \exists z: \exists y: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
fortsetzen können.  Wir formen nun die rechte Seite der Äquivalenz
\ref{eq:ass0} um:
\[
\begin{array}{cll}
                & \pair(x,u) \in R \circ (Q \circ P) \\[0.2cm] 
\Leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge \pair (y,u) \in Q \circ P\bigr) &
                  \mbox{nach Def. von}\; R \circ (Q \circ P) \\[0.2cm]
\Leftrightarrow & \exists y: \bigl(\pair(x,y) \in R \wedge 
                  \exists z: \bigl(\pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)\bigr) &
                  \mbox{nach Def. von}\; Q \circ P \\
\end{array}
\]
Da die Variable $z$ in der Formel $\pair(x,y) \in R$ nicht vorkommt, können wir den
Existenz-Quantor über $z$ auch vorziehen und können daher diese Kette von Äquivalenzen als
\begin{equation}
  \label{eq:ass2}
  \Leftrightarrow \quad
  \exists z: \exists y: \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q \wedge \pair(z,u) \in P\bigr)
\end{equation}
fortsetzen. Die Formeln (\ref{eq:ass1}) und (\ref{eq:ass2}) sind identisch.  Damit ist die Äquivalenz
(\ref{eq:ass0}) nachgewiesen und der Nachweis der Assoziativität des Kompositions-Operators
ist erbracht.  \hspace*{\fill} $\Box$
\vspace{0.2cm}

\begin{Satz}
  Sind zwei Relationen $R \subseteq L \times M$ und $Q \subseteq M \times N$ gegeben, so gilt \\[0.2cm]
  \hspace*{1.3cm} $(R \circ Q)^{-1} = Q^{-1} \circ R^{-1}$. \\[0.2cm]
  \textbf{Beachten} Sie, dass sich die Reihenfolge von $Q$ und $R$ hier vertauscht!  
\end{Satz}

\proof
Es ist zu zeigen, dass für alle Paare $\pair(z,x) \in N \times L$ die  Äquivalenz \\[0.2cm]
\hspace*{1.3cm} 
$\pair(z,x) \in (R \circ Q)^{-1} \quad \Leftrightarrow \quad\pair(z,x) \in Q^{-1} \circ R^{-1}$ 
\\[0.2cm]
gilt.  Den Nachweis erbringen wir durch die folgende Kette von Äquivalenz-Umformungen: 
\[ 
\begin{array}{cl}
                & \pair(z,x) \in (R \circ Q)^{-1}                                             \\[0.2cm]
\Leftrightarrow & \pair(x,z) \in R \circ Q                                                    \\[0.2cm]
\Leftrightarrow & \exists y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in Q\bigr) \\[0.2cm]
\Leftrightarrow & \exists y \in M \colon \bigl(\pair(y,z) \in Q \wedge \pair(x,y) \in R\bigr) \\[0.2cm]
\Leftrightarrow & \exists y \in M \colon \bigl(\pair(z,y) \in Q^{-1} \wedge \pair(y,x) \in R^{-1}\bigr) 
                  \\[0.2cm]
\Leftrightarrow & \pair(z,x) \in Q^{-1} \circ R^{-1}   \hspace*{\fill} \Box 
\end{array}
\]


\begin{Satz}[Distributiv-Gesetze für das relationale Produkt] \lb
  Sind $R_1$ und $R_2$   Relationen auf $L \times M$ und ist $Q$ eine Relation auf $M \times N$, so
  gilt \\[0.2cm] 
  \hspace*{1.3cm}
  $(R_1 \cup R_2) \circ Q = (R_1 \circ Q) \cup (R_2 \circ Q)$. 
  \\[0.2cm]
  Analog gilt ebenfalls \\[0.2cm]
  \hspace*{1.3cm} 
  $R \circ (Q_1 \cup Q_2) = (R \circ Q_1) \cup (R \circ Q_2)$, 
  \\[0.2cm]
  falls $R$ eine Relation auf $L \times M$ und $Q_1$ und $Q_2$ Relationen auf $M \times N$
  sind.  Um Gleichungen der obigen Art ohne Klammern auf der rechten Seite schreiben zu können
  vereinbaren wir, dass der Kompositions-Operator $\circ$ stärker bindet als $\cup$ und $\cap$.  
\end{Satz}

\proof
Wir beweisen  das erste Distributivgesetz, indem wir 
\begin{equation}
  \label{eq:dis0}
\pair(x,z) \in (R_1 \cup R_2) \circ Q \;\Leftrightarrow\; \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q   
\end{equation}
zeigen.  Wir formen zunächst den Ausdruck $\pair(x,z) \in (R_1 \cup R_2) \circ Q$ um:
\[
\begin{array}{cll}
                  & \pair(x,z) \in (R_1 \cup R_2) \circ Q  \\[0.2cm]
  \Leftrightarrow & \exists y: \bigl(\pair(x,y) \in R_1 \cup R_2 \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; (R_1 \cup R_2) \circ Q \\[0.2cm]
  \Leftrightarrow & \exists y: \bigl(\bigl(\pair(x,y) \in R_1 \vee \pair(x,y) \in R_2\bigr) \wedge \pair(y,z) \in Q\bigr) 
                  & \mbox{nach Def. von}\; R_1 \cup R_2 \\[0.2cm]
\end{array}
\]
Diese Formel stellen wir mit Hilfe des Distributiv-Gesetzes der Aussagen-Logik um.
In der Aussagenlogik werden wir im Rahmen der Logik-Vorlesung sehen, dass für beliebige Formeln
$F_1$, $F_2$ und $G$ die Äquivalenz 
\[ (F_1 \vee F_2) \wedge G \;\Leftrightarrow\; (F_1 \wedge G) \vee (F_2 \wedge G) \]
gilt.  Die Anwendung dieses Gesetzes liefert:
\begin{eqnarray}
  \nonumber
  & & \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \vee \underbrace{\pair(x,y) \in R_2}_{F_2}\bigr) \wedge \underbrace{\pair(y,z) \in Q}_G\bigr) 
\\[0.2cm] 
  \label{eq:dis1}
  & \Leftrightarrow &
    \exists y: \bigl(\bigl(\underbrace{\pair(x,y) \in R_1}_{F_1} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \vee 
               \bigl(\underbrace{\pair(x,y) \in R_2}_{F_2} \wedge \underbrace{\pair(y,z) \in Q}_G \bigr) \bigr)   
\end{eqnarray}
Wir formen nun den Ausdruck $\pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q$ um:
\[
\begin{array}{cll}
                & \pair(x,z) \in R_1 \circ Q \cup R_2 \circ Q \\[0.2cm]
\Leftrightarrow & \pair(x,z) \in R_1 \circ Q \;\vee\; \pair(x,z) \in R_2 \circ Q &
                  \mbox{nach Def. von}\;\cup \\[0.2cm]
\Leftrightarrow & \bigl(\exists y: (\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q)\bigr) \;\vee\; 
                  \bigl(\exists y: (\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q)\bigr) \\[0.2cm]
                & \mbox{nach Def. von}\; R_1 \circ Q \; \mbox{und}\; R_2 \circ Q \\[0.2cm]
\end{array}
\]
Diese letzte Formel stellen wir mit Hilfe eines Distributiv-Gesetzes für die
Prädikaten-Logik um.  In der Prädikaten-Logik werden wir später sehen, dass für beliebige
Formeln $F_1$ und $F_2$ die Äquivalenz
\[ \exists y: \bigl(F_1 \vee F_2\bigr) \;\Leftrightarrow\; \bigl(\exists y: F_1\bigr) \vee \bigl(\exists y: F_2\bigr) \]
gültig ist.  Damit folgt dann
\begin{eqnarray}
\nonumber
 & & \exists y: \bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
     \exists y: \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr) \\[0.2cm]
  \label{eq:dis2}
 & \Leftrightarrow &
     \exists y: \Bigl(\bigl(\underbrace{\pair(x,y) \in R_1 \wedge \pair(y,z) \in Q}_{F_1}\bigr) \;\vee\; 
                \bigl(\underbrace{\pair(x,y) \in R_2 \wedge \pair(y,z) \in Q}_{F_2}\bigr)\Bigr) 
\end{eqnarray}
Da die Formeln \ref{eq:dis1} und \ref{eq:dis2} identisch sind, ist der Beweis des
Distributiv-Gesetzes 
\\[0.2cm]
\hspace*{1.3cm}
 $(R_1 \cup R_2) \circ Q = R_1 \circ Q \cup R_2 \circ Q$
\\[0.2cm]
erbracht. \hspace*{\fill} $\Box$
\vspace{0.2cm}

\exercise
Es seien $M$, $N$ und $L$ Mengen und es gelte $R \subseteq M \times N$ und $Q_1,Q_2 \subseteq N \times L$. 
\begin{enumerate}[(a)]
\item Beweisen oder widerlegen Sie die Gleichung
      \\[0.2cm]
      \hspace*{1.3cm}  $R \circ (Q_1 \cup Q_2) = R \circ Q_1 \cup R \circ Q_2$.
\item Beweisen oder widerlegen Sie die Gleichung
      \\[0.2cm]
      \hspace*{1.3cm}
      $R \circ (Q_1 \cap Q_2) = R \circ Q_1 \cap R \circ Q_2$. \eox
\end{enumerate}


\begin{Definition}[Identische Relation] \hspace*{\fill} \linebreak
  Ist $M$ eine Menge, so definieren wir die \colorbox{yellow}{\blue{identische Relation auf $M$}} $\mathrm{id}_M \subseteq M \times M$
  wie folgt: \\[0.2cm]
  \hspace*{1.3cm} $\mathrm{id}_M := \bigl\{ \pair(x,x) \mid x \in M \bigr\}$.  \eoxs
\end{Definition}

\example
Es sei $M = \{1,2,3\}$.  Dann gilt \\[0.2cm]
\hspace*{1.3cm}  $\mathrm{id}_M := \bigl\{ \pair(1,1),  \pair(2,2),  \pair(3,3) \bigr\}$.  \eox

\remark
Aus der Definition der identischen Relation $\mathrm{id}_M$ folgt sofort \\[0.2cm]
\hspace*{1.3cm} $\mathrm{id}_M^{-1} = \mathrm{id}_M$. \eoxs

\begin{Satz}
  Ist $R \subseteq M \times N$  eine binäre Relation, so gilt 
  \[ R \circ \mathtt{id}_N = R \quad \mbox{und} \quad \mathrm{id}_M \circ R = R. \] 
\end{Satz}

\proof
Wir weisen nur die zweite Gleichung nach, denn der Nachweis der ersten Gleichung verläuft analog zu
dem Beweis der zweiten Gleichung.  Nach Definition des relationalen Produkts
gilt
\[ \mathrm{id}_M \circ R = \bigl\{ \pair(x,z) \mid \exists y:\bigl(\pair(x,y) \in \mathrm{id}_M \wedge \pair(y,z) \in R \bigr)\bigr\}. \]
Nun ist $\pair(x,y) \in \mathrm{id}_M$ genau dann, wenn $x = y$ ist, also gilt
\[ \mathrm{id}_M \circ R = \bigl\{ \pair(x,z) \mid \exists y:\bigl( x = y \wedge \pair(y,z) \in R\bigr) \bigr\}. \]
Es gilt die folgende Äquivalenz
\[ \exists y:\bigl(x = y \wedge \pair(y,z) \in R \bigr) \Leftrightarrow \pair(x,z) \in R. \]
Diese Äquivalenz ist leicht einzusehen:  Falls $\exists y:\bigl( x = y \wedge \pair(y,z) \in R\bigr)$
gilt, so muss das $y$ dessen Existenz gefordert wird, den Wert $x$ haben und dann gilt
natürlich auch $\pair(x,z) \in R$.  Gilt andererseits $\pair(x,z) \in R$, so definieren
wir $y := x$.  Für das so definierte $y$ gilt offensichtlich 
$x = y \wedge \pair(y,z) \in R$.  Unter Verwendung der oberen Äquivalenz haben wir 
\[ \mathrm{id}_M \circ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Wegen  $R \subseteq M \times N$ besteht $R$ nur aus geordneten
Paaren und daher gilt
\[ R = \bigl\{ \pair(x,z) \mid \pair(x,z) \in R \bigr\}. \]
Damit ist $\mathrm{id}_M \circ R = R$ gezeigt. \qeds
\pagebreak

\exercise
Es sei $R \subseteq M \times N$.  Welche Eigenschaften muss die Relation $R$ besitzen, damit die Gleichung 
\\[0.2cm]
\hspace*{1.3cm}
$R \circ R^{-1} = \mathrm{id}_M$ 
\\[0.2cm]
richtig ist? Unter welchen Bedingungen gilt
\\[0.2cm]
\hspace*{1.3cm}
$R^{-1} \circ R = \mathrm{id}_N$?
\eox
% Die erste Gleichung gilt genau dann, wenn $R$ links-total und links-eindeutig ist.


\section{Binäre Relationen auf einer Menge}
Wir betrachten im Folgenden den Spezialfall von Relationen $R \subseteq M \times N$, für
den $M = N$ gilt.  Wir definieren:
Eine Relation $R \subseteq M \times M$ heißt eine Relation \blue{auf} der Menge $M$.
Im Rest dieses Abschnittes betrachten wir nur noch solche Relationen. 
Statt $M \times M$ schreiben wir dann kürzer $M^2$.

Ist $R$ eine Relation auf $M$ und sind $x, y \in M$, so verwenden wir gelegentlich die
Infix-Schreibweise und schreiben statt
$\pair(x,y) \in R$ kürzer $x\, R\, y$.  Beispielsweise lässt sich die Relation $\leq$ 
auf $\mathbb{N}$ wie folgt definieren: 
\\[0.2cm]
\hspace*{1.3cm}
 $\leq\; := \bigl\{ \pair(x,y) \in \mathbb{N} \times \mathbb{N} \mid \exists z \in \mathbb{N} \colon x + z = y \bigr\}$.
\\[0.2cm]
Statt $\pair(x,y) \in\; \leq$ hat sich in der Mathematik die Schreibweise $x \leq y$ eingebürgert.
  
\begin{Definition}[reflexiv] 
Eine Relation $R \subseteq M \times M$  ist \colorbox{yellow}{\blue{reflexiv auf der Menge $M$}} falls gilt: \\[0.2cm]
\hspace*{1.3cm} $\forall x\in M \colon \pair(x,x) \in R$. \eoxs
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann reflexiv auf $M$, wenn $\mbox{\rm id}_M \subseteq R$ gilt.
\end{Satz}

\proof
Es gilt
\\[0.2cm]
\hspace*{1.3cm}
$
\begin{array}[b]{cl}
                & \mathrm{id}_M \subseteq R \\[0.2cm]
\Leftrightarrow & \bigl\{ \pair(x,x) \mid x \in M \bigr\} \subseteq R \\[0.2cm] 
\Leftrightarrow & \forall x \in M: \pair(x,x) \in R \\[0.2cm] 
\Leftrightarrow & \mbox{$R$ ist reflexiv auf $M$.}  
\end{array}
$
\qeds

\begin{Definition}[symmetrisch]
Eine Relation $R \subseteq M \times M$  ist \colorbox{yellow}{\blue{symmetrisch}} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x,y\el M \colon \bigl(\pair(x,y) \in R \rightarrow\pair(y,x)\in R\bigr)$. \eox
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$ ist genau dann symmetrisch, wenn $R^{-1} \subseteq R$ gilt.
\end{Satz}

\proof
Wir spalten den Beweis in zwei Teile auf.
\begin{enumerate}
\item[``$\Rightarrow$'']: Wir setzen voraus, dass $R$ symmetrisch ist und zeigen, das $R^{-1} \subseteq R$
               gilt.  Sei also $\pair(b, a)$ in $R^{-1}$.  Wir müssen dann $\pair(b, a) \in R$ zeigen.
               Aus $\pair(b, a) \in R^{-1}$ folgt nach Definition von $R^{-1}$ 
               \\[0.2cm]
               \hspace*{1.3cm}
               $\pair(b, a) \in \bigl\{ \pair(y, x) \mid \pair(x, y) \in R \bigr\}$.
               \\[0.2cm]
               Daraus folgt zunächst $\pair(a, b) \in R$.  Da die Relation $R$ symmetrisch ist, folgt
               \\[0.2cm]
               \hspace*{1.3cm}
               $\pair(b,a) \in R$.
               \green{$\surd$}
\item[``$\Leftarrow$'']: Wir nehmen nun an, dass $R^{-1} \subseteq R$ gilt und müssen zeigen, dass $R$
               symmetrisch ist.  Dazu nehmen wir an, dass $\pair(a,b) \in R$.  Dann müssen wir nachweisen, dass
               dann auch $\pair(b,a) \in R$ gilt.  Aus $\pair(a,b) \in R$ folgt nach Definition von $R^{-1}$, dass
               \\[0.2cm]
               \hspace*{1.3cm}
               $\pair(b,a) \in R^{-1}$
               \\[0.2cm]
               gilt.  Aus der Voraussetzung $R^{-1} \subseteq R$ folgt nun
               \\[0.2cm]
               \hspace*{1.3cm}
               $\pair(b,a) \in R$. \green{$\surd$}
               \qeds
\end{enumerate}

\begin{Definition}[anti-symmetrisch]
Eine Relation $R \subseteq M \times M$  ist \colorbox{yellow}{\blue{anti-symmetrisch}} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y\bigr)$. \eox
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann anti-symmetrisch, wenn
$R \cap R^{-1} \subseteq \mbox{\rm id}_{M}$ gilt.
\end{Satz}

\proof
\begin{enumerate}
\item[``$\Rightarrow$'':]
      Wir nehmen zunächst an, dass $R$ anti-symmetrisch ist und folglich
      \[ \forall x, y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y\bigr) \]
      gilt und zeigen, dass aus dieser Voraussetzung die Inklusions-Beziehung
      \\[0.2cm]
      \hspace*{1.3cm}
      $R \cap R^{-1} \subseteq \mathrm{id}_{M}$ 
      \\[0.2cm]
      folgt.  Es gelte also
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \cap R^{-1}$.
      \\[0.2cm]
      Es ist zu zeigen, dass $\pair(x,y) \in \mathrm{id}_M$ gilt.  Aus  $\pair(x,y) \in R \cap R^{-1}$ folgt
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \wedge \pair(x,y) \in R^{-1}$.
      \\[0.2cm]
      Nach Definition von $R^{-1}$ folgt daraus
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \wedge \pair(y,x) \in R$.
      \\[0.2cm]
      Nun folgt aber aus der Anti-Symmetrie von $R$ 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x=y$
      \\[0.2cm]
      und das impliziert
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in \mathrm{id}_M$.
      \\[0.2cm]
      Damit ist die Inklusion
      \\[0.2cm]
      \hspace*{1.3cm}
      $R \cap R^{-1} \subseteq \mathrm{id}_{M}$ 
      \\[0.2cm]
      gezeigt.
\item[``$\Leftarrow$'':]
      Wir nehmen nun an, dass $R \cap R^{-1} \subseteq \mathrm{id}_{M}$ gilt und zeigen, dass daraus
      die Gültigkeit von 
      \[ \forall x, y \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,x) \in R \rightarrow x = y\bigr) \]
      folgt.  Seien also $x,y \in M$ und es gelte
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R$ \quad und \quad $\pair(y,x) \in R$.
      \\[0.2cm]
      Wir müssen zeigen, dass daraus
      \\[0.2cm]
      \hspace*{1.3cm}
      $x=y$ 
      \\[0.2cm]
      folgt.  Aus $\pair(y,x) \in R$ folgt 
      $\pair(x,y) \in R^{-1}$.  Also gilt
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \cap R^{-1}$.
      \\[0.2cm]
      Aus der Inklusions-Beziehung $R \cap R^{-1} \subseteq \mathrm{id}_{M}$ folgt dann
      $\pair(x,y) \in \mathrm{id}_M$ und daraus folgt sofort $x = y$. 
      \qeds
\end{enumerate}
\pagebreak

\exercise
\begin{enumerate}[(a)]
\item Geben Sie eine Menge $M$ und eine Relation $R \subseteq M \times M$ an, so dass $R$
      sowohl anti-symmetrisch als auch symmetrisch ist.
\item Geben Sie eine Menge $M$ und eine Relation $R \subseteq M \times M$ an, so dass $R$
      weder anti-symmetrisch noch symmetrisch ist. \eoxs
\end{enumerate}

\remark
In der Literatur finden Sie noch den Begriff der \blue{Asymmetrie}.  Dort wird eine Relation 
$R \subseteq M^2$ als \colorbox{yellow}{\blue{asymmetrisch}} definiert, wenn 
\\[0.2cm]
\hspace*{1.3cm}
$\forall x, y \in M: \bigl(\pair(x,y) \in R \rightarrow \pair(y,x) \not\in R \bigr)$
\\[0.2cm]
gilt.  Beachten Sie, dass der Begriff der \blue{Asymmetrie} \underline{nicht} die Negation des Begriffs der
\blue{Symmetrie} ist:  Einerseits gibt es eine symmetrische Relation, die auch asymmetrisch ist, andererseits
gibt es auch Relationen, die weder asymmetrisch noch symmetrisch sind.  In dieser Vorlesung spielt der Begriff
der \blue{Asymmetrie} keine Rolle.  Für Sie reicht es zu wissen, dass \blue{Anti-Symmetrie} und
\blue{Asymmetrie} zwei verschiedene Begriffe sind, die nichts mit einander zu tun haben.
\eox

\begin{Definition}[transitiv]
Eine Relation $R \subseteq M \times M$  ist \colorbox{yellow}{\blue{transitiv}} falls gilt: \\[0.2cm]
\hspace*{1.3cm} 
$\forall x, y, z \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R\bigr)$. 
\eoxs
\end{Definition}

\begin{Satz}
Eine Relation $R \subseteq M \times M$  ist genau dann transitiv, wenn
$R \circ R \subseteq R$ ist.
\end{Satz}

\proof
\begin{enumerate}
\item[``$\Rightarrow$'':] 
      Wir nehmen zunächst an, dass $R$ transitiv ist und damit
      \[ \forall x, y, z \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R\bigr) \]
      gilt und zeigen, dass daraus $R \circ R \subseteq R$ folgt.
      Sei also
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R \circ R$.  
      \\[0.2cm]
      Nach Definition des relationalen Produkts gibt es
      dann ein $y$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R$ und $\pair(y,z) \in R$ 
      \\[0.2cm]
      gilt. Da $R$ transitiv ist, folgt daraus
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R$ 
      \\[0.2cm] 
      und das war zu zeigen.
\item[``$\Leftarrow$'':]
      Wir nehmen nun an, dass die Inklusion $R \circ R \subseteq R$ gilt und zeigen, dass daraus
      \[ \forall x, y, z \in M \colon \bigl(\pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R\bigr) \]
      folgt.  Seien also $x,y,z \in M$ mit
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R$ und $\pair(y,z) \in R$ 
      \\[0.2cm]
      gegeben.  Nach Definition des relationalen Produkts gilt dann
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R \circ R$ 
      \\[0.2cm]
      und aus
      der Voraussetzung $R \circ R \subseteq R$ folgt nun
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R$. 
      \qeds
\end{enumerate} 
\pagebreak

\examples 
In den ersten beiden Beispielen sei $M = \{1,2,3\}$.
\begin{enumerate}
\item $R_1 = \{ \pair(1,1), \pair(2,2), \pair(3,3) \}$.

      $R_1$ ist reflexiv auf $M$, symmetrisch, anti-symmetrisch und transitiv.
\item $R_2 = \{ \pair(1,2), \pair(2,1), \pair(3,3) \}$.

      $R_2$ ist nicht reflexiv auf $M$, da $\pair(1,1) \not\in R_2$.
      $R_2$ ist symmetrisch. 
      $R_2$ ist nicht anti-symmetrisch, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $2=1$ folgen.
      Schließlich ist $R_2$ auch nicht transitiv, denn aus $\pair(1,2) \in R_2$ und 
      $\pair(2,1) \in R_2$ müsste $\pair(1,1) \in R_2$ folgen.

      In den beiden folgenden Beispielen sei $M = \mathbb{N}$.
\item $R_3 := \{ \pair(n,m) \in \mathbb{N}^2 \mid n \leq m \}$.

      $R_3$ ist reflexiv auf $\mathbb{N}$, denn für alle natürlichen Zahlen $n \in \mathbb{N}$ gilt 
      $n \leq n$.  $R_3$ ist nicht symmetrisch, denn beispielsweise gilt
      $1 \leq 2$, aber es gilt nicht $2 \leq 1$.  Allerdings ist $R_3$ anti-symmetrisch,
      denn wenn sowohl $n \leq m$ als auch $m \leq n$ gilt, dann muss  $m = n$ gelten.
      Schließlich ist $R_3$ auch transitiv, denn aus $k \leq m$ und $m \leq n$ folgt
      natürlich $k \leq n$.
\item $R_4 := \{ \pair(m,n) \in \mathbb{N}^2 \mid \exists k\in \mathbb{N}: m\cdot k = n \}$

      Für zwei nat\"urliche Zahlen $m$ und $n$ gilt $\pair(m,n) \in R_4$ genau dann, wenn $m$ ein
      Teiler von $n$ ist.  Damit ist klar, dass $R_4$ reflexiv auf $\mathbb{N}$ ist, denn jede Zahl 
      teilt sich selbst.  Natürlich ist $R_4$ nicht symmetrisch, denn $1$ ist ein Teiler
      von $2$ aber nicht umgekehrt.  Dafür ist $R_4$ aber anti-symmetrisch, denn wenn 
      sowohl $m$ ein Teiler von $n$ ist und auch $n$ ein Teiler vom $m$, so muss $m = n$
      gelten.  Schließlich ist $R_4$ auch transitiv: Ist $m$ ein Teiler von $n$ und
      $n$ ein Teiler von $o$, so ist natürlich $m$ ebenfalls ein Teiler von $o$.
\end{enumerate}

\section{Der transitive Abschluss einer Relation}
Ist $R$ eine Relation auf einer Menge $M$, die nicht transitiv ist, so können wir $R$ zu einer
transitiven Relation erweitern.  Zu diesem Zweck  definieren wir zunächst den Begriff der \blue{Potenz}
einer Relation auf $M$.

\begin{Definition}[Potenz einer Relation, $R^n$]
  Für eine Relation $R \subseteq M^2$ definieren wir für alle $n \in \mathbb{N}$ die \blue{Potenz} $R^n$
  durch Induktion über $n$ wie folgt:  
  \begin{enumerate}
  \item Induktions-Anfang: $n= 0$.  Wir setzen \\[0.2cm]
        \hspace*{1.3cm} $R^0 := \mathrm{id}_M$.
  \item Induktions-Schritt: $n \rightarrow n + 1$. Nach Induktions-Voraussetzung ist $R^n$
        bereits definiert. Daher können wir $R^{n+1}$ als \\[0.2cm]
        \hspace*{1.3cm} $R^{n+1} = R \circ R^n$
        \\[0.2cm]
        definieren. \eox
\end{enumerate}
\end{Definition}

Es zeigt sich, dass für die Potenzen einer Relation und das relationalen Produkt ein ähnlicher
Zusammenhang besteht, wie für die Potenzen einer Zahl und das gewöhnliche Produkt, denn es gilt das
folgende Gesetz.

\begin{Satz}[Potenz-Gesetz des relationalen Produkts] \hspace*{\fill} \\
  Es sei $R \subseteq M \times M$.  Für beliebige ganze Zahlen $k,l \in \mathbb{N}$ gilt:
  \[ R^k \circ R^l = R^{k+l}. \]
\end{Satz}

\proof  Wir führen den Beweis durch Induktion nach $k$.
\begin{enumerate}
\item[I.A.:] $k = 0$.  Es gilt
             \\[0.2cm]
             \hspace*{1.3cm}
             $R^0 \circ R^l = \textsl{id}_M \circ R^l = R^l = R^{0+l}$. {\color{green}{$\surd$}}
\item[I.S.:] $k \mapsto k+1$.  Es gilt
             \[
             \begin{array}{lcll}
               R^{k+1} \circ R^l & = & (R \circ R^k) \circ R^l &
                                       (\mbox{nach Def. von}\; R^{k+1}) \\
                                 & = & R \circ (R^k \circ R^l) &
                                       (\mbox{aufgrund des Assoziativ-Gesetzes für $\circ$}) \\
                                 & = & R \circ R^{k+l} &
                                       (\mbox{nach Induktions-Voraussetzung}) \\
                                 & = & R^{(k+l)+1} &
                                       (\mbox{nach Def. von}\; R^{n+1}) \\
                                 & = & R^{(k+1)+l}.\; \mbox{\color{green}{$\surd$}} & \hspace*{\fill} \Box
             \end{array}
             \]
\end{enumerate}
             
Die nächste Definition zeigt, dass wir eine beliebige Relation $R \subseteq M^2$ zu einer
transitiven Relation erweitern können.

\begin{Definition}[transitiver Abschluss einer Relation, $R^+$]\hspace*{\fill} \\
  Es sei $R \subseteq M^2$.
  Wir definieren den 
  \href{https://en.wikipedia.org/wiki/Transitive_closure}{transitiven Abschluss} der Relation
  $R$ als die Menge \\[0.2cm]  
  \hspace*{1.3cm} $R^+ := \bigcup\limits_{n\in\mathbb{N}^*} R^n$. \\[0.2cm]
  Dabei ist für eine Folge $(A_n)_n$ von Mengen der Ausdruck $\bigcup\limits_{n\in\mathbb{N}^*} A_n$ 
  als \\[0.2cm]
  \hspace*{1.3cm}
  $\bigcup\limits_{n\in\mathbb{N}^*} A_n := \bigcup \bigl\{ A_n \mid n \in \mathbb{N}^* \bigr\} = \bigl\{ x \,\big|\, \exists n \in \mathbb{N}^*: x \in A_n \bigr\}$.
  \\[0.2cm]
  definiert.  Etwas weniger formal (aber dafür anschaulicher) können wir auch schreiben
  \\[0.2cm]
  \hspace*{1.3cm}
 $\bigcup\limits_{n\in\mathbb{N}^*} A_n := \bigcup\limits_{i=1}^{\infty} A_n := A_1 \cup A_2 \cup A_3 \cup \cdots $. \eox
\end{Definition}

\begin{Satz}
Es sei $M$ eine Menge und $R \subseteq M \times M$ eine binäre Relation auf $M$.
Dann hat die oben definierte Relation $R^+$ die folgenden Eigenschaften:
\begin{enumerate}
\item $R^+$ ist transitiv.
\item $R^+$   ist die bezüglich der Inklusions-Ordnung $\subseteq$ \blue{kleinste} Relation
      $T$ auf $M$, die einerseits transitiv ist und andererseits die Relation $R$ enthält.
      Anders ausgedrückt: Ist $T$ eine transitive Relation mit $R \subseteq T$, so
      muss $R^+ \subseteq T$ gelten.
\end{enumerate}
\end{Satz}

\noindent
\textbf{Beweis}:
\begin{enumerate}
\item Wir zeigen zunächst, dass $R^+$ transitiv ist. Dazu müssen wir die Gültigkeit der Formel
      \[ \forall x, y, z: \bigl(\pair(x,y) \in R^+ \wedge \pair(y,z) \in R^+ \rightarrow \pair(x,z) \in R^+\bigr) \]
nachweisen.  Wir nehmen also an, dass $\pair(x,y) \in R^+$ und $\pair(y,z) \in R^+$
gilt und zeigen, dass aus dieser Voraussetzung auf $\pair(x,z) \in R^+$ geschlossen
werden kann.  Nach Definition von $R^+$ haben wir 
\[ \pair(x,y) \in \bigcup\limits_{n\in\mathbb{N}^*} R^n \quad \mbox{und} \quad
   \pair(y,z) \in \bigcup\limits_{n\in\mathbb{N}^*} R^n.
\]
Nach der Definition der Menge $\bigcup\limits_{n\in\mathbb{N}^*} R^n$ gibt es dann positive natürliche Zahlen $k,l\in\mathbb{N}^*$, so dass
\[ \pair(x,y) \in R^k \quad \mbox{und} \quad \pair(y,z) \in R^l \]
gilt.  Aus der Definition des relationalen Produktes folgt nun
\[  \pair(x,z) \in R^k \circ R^l. \]
Aufgrund des Potenz-Gesetzes für das relationale Produkt gilt 
\[ R^k \circ R^l = R^{k+l}. \]
Also haben wir $\pair(x,z) \in R^{k+l}$ und daraus folgt sofort
\[  \pair(x,z) \in \bigcup\limits_{n\in\mathbb{N}^*} R^n. \]
Damit gilt $\pair(x,z) \in R^+$ und das war zu zeigen. {\color{green}{$\surd$}}

\item 
Um zu zeigen, dass $R^+$ die kleinste Relation ist, die einerseits transitiv ist
und andererseits $R$ enthält, nehmen wir an, dass $T$ eine transitive Relation ist,
für die $R \subseteq T$ gilt.  Wir müssen dann zeigen, dass $R^+ \subseteq T$ gilt.  Um diesen
Nachweis zu führen, zeigen wir zunächst, dass für alle positiven
natürlichen Zahlen $n\in\mathbb{N}^*$ die folgende Inklusion gilt:
\[ R^n \subseteq T. \]
Wir führen den Nachweis dieser Behauptung durch vollständige Induktion über $n\in\mathbb{N}^*$.
\begin{enumerate}
\item[I.A.:] $n=1$.  

               Dann ist $R^1 \subseteq T$ zu zeigen.  Wegen
               \\[0.2cm]
               \hspace*{1.3cm}
               $R^1 = R \circ R^0 = R \circ \mathrm{id}_M = R$
               \\[0.2cm]
               folgt dies aber unmittelbar aus der Voraussetzung $R \subseteq T$. {\color{green}{$\surd$}}
\item[I.S.:] $n \mapsto n+1$.  

             Nach Induktions-Voraussetzung wissen wir, dass
              \[ R^n \subseteq T \]
             gilt.
             Wir multiplizieren diese Inklusion auf beiden Seiten von links relational mit $R$
             und haben dann
             \[ R^{n+1} = R \circ R^n \subseteq R \circ T. \]
             Multiplizieren wir die Voraussetzung $R \subseteq T$ von rechts relational mit
             $T$, so finden wir
             \[ R \circ T \subseteq T \circ T. \]
             Weil $T$ transitiv ist, gilt 
             \[ T \circ T \subseteq T. \]
             Insgesamt haben wir also die folgende Kette von Inklusionen
             \[ R^{n+1} \subseteq R \circ T \subseteq T \circ T \subseteq T. \]
             Damit folgt $R^{n+1} \subseteq T$ und der Induktions-Beweis ist
             abgeschlossen. {\color{green}{$\surd$}}
\end{enumerate}
Wir schließen den Beweis ab, indem wir
\\[0.2cm]
\hspace*{1.3cm}
 $R^+ \subseteq T$ 
\\[0.2cm]
zeigen.  Sei $\pair(x,y) \in R^+$.
Nach Definition von $R^+$ muss es dann eine positive natürliche Zahl $n$ geben, so
dass $\pair(x,y) \in R^n$ ist.  Wegen $R^n \subseteq T$ folgt daraus aber
$\pair(x,y) \in T$ und damit ist auch der zweite Teil des Beweises abgeschlossen. \qeds
\end{enumerate}

\example
Es sei $\textsl{Mensch}$ die Menge alle Menschen, die jemals gelebt haben.  Wir definieren
die Relation \textsl{Eltern} auf $M$ indem wir 
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern} := \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vater von $y$ oder 
                                                                   $x$ ist Mutter von $y$} \}$
\\[0.2cm]
setzen.  Dann besteht der transitive Abschluss der Relation \textsl{Eltern} aus allen Paaren 
$\pair(x,y)$, für die $x$ ein Vorfahre von $y$ ist:
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{Eltern}^+ = \{ \pair(x,y) \in \textsl{Mensch}^2 \mid \mbox{$x$ ist Vorfahre von $y$} \}$.
\eox


\example
Es sei \textsl{F} die Menge aller Flughäfen.  Wir definieren auf der Menge \textsl{F} eine
Relation \textsl{D} durch
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{D} := \{ \pair(x,y) \in \textsl{F} \times \textsl{F} \mid
                  \mbox{es gibt einen Direktflug von $x$ nach $y$} \}$.
\\[0.2cm]
$D$ bezeichnet also die direkten Verbindungen.  Die Relation $D^2$ ist dann definiert als
\\[0.2cm]
\hspace*{1.3cm}
$D^2 := D \circ D = \{ \pair(x,z) \in \textsl{F} \times \textsl{F} \mid 
          \exists y \in \textsl{F}: \pair(x,y) \in D \wedge \pair(y,z) \in D \}$.
\\[0.2cm]
Das sind aber gerade die Paare $\pair(x,z)$, für die es einen Luftweg von $x$ nach $z$
gibt, der genau einen Zwischenstopp enthält.  Entsprechend enthält $D^3$ die Paare
$\pair(x,z)$, für die man mit zwei Zwischenstopps von $x$ nach $y$ kommt und allgemein
enthält $D^k$ die Paare $\pair(x,z)$, für die man mit $k-1$ Zwischenstopps von dem
Flughafen $x$ zu dem Flughafen $z$ kommt.
Der transitive Abschluss von $D$ enthält
dann alle Paare $\pair(x,y)$, für die es überhaupt eine Möglichkeit gibt, auf dem Luftweg
von $x$ nach $y$ zu kommen. \eox

\exercise
Auf der Menge $\mathbb{N}$ der natürlichen Zahlen wird die Relation $R$ wie folgt definiert:
\\[0.2cm]
\hspace*{1.3cm}
$R = \{ \pair(k, k + 1) \mid k \in \mathbb{N} \}$.
\\[0.2cm]
Berechnen Sie die folgenden Relationen:
\begin{enumerate}[(a)]
\item $R^2$,
\item $R^3$,
\item $R^n$ für beliebige $n \in \mathbb{N}$,
\item $R^+$. \exend
\end{enumerate}

\exercise
Wir definieren die Relation $R$ auf der Menge $\mathbb{N}$ der natürlichen Zahlen als
\\[0.2cm]
\hspace*{1.3cm}
$R := \{ \pair(n, 2 \cdot n) \mid n \in \mathbb{N} \}$.
\\[0.2cm]
Berechnen Sie den transitiven Abschluss $R^+$.
\exend


\section{Äquivalenz-Relationen \label{section:aequivalenz_relation}}
\begin{Definition}[Äquivalenz-Relation]
Eine Relation $R \subseteq M \times M$  ist eine 
\href{https://en.wikipedia.org/wiki/Equivalence_relation}{Äquivalenz-Relation} auf $M$
genau dann, wenn folgende Bedingungen erfüllt sind: 
\begin{enumerate}
\item $R$ ist \blue{reflexiv auf $M$},
\item $R$ ist \blue{symmetrisch} und
\item $R$ ist \blue{transitiv}. \eox
\end{enumerate}
\end{Definition}

Der Begriff der \blue{Äquivalenz-Relation} verallgemeinert den Begriff der \blue{Gleichheit}, denn
ein triviales Beispiel für eine Äquivalenz-Relation auf $M$ ist die Relation $\mathrm{id}_M$ und diese Relation
ist die Gleichheits-Relation auf $M$.
Das folgende Beispiel zeigt eine nicht-triviale Äquivalenz-Relation, die später noch eine wichtige
Rolle spielen wird.
\pagebreak

\example
Wir betrachten die Menge $\mathbb{Z}$ der ganzen Zahlen
zusammen mit der Relation $\approx_n$, die wir für natürliche Zahlen $n\in\mathbb{N}^*$ 
als \\[0.2cm]
\hspace*{1.3cm}
 $\approx_n \;:=\; \{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z} \colon k \cdot n = x - y \}$
\\[0.2cm]
definieren.  Falls $x \approx_n y$ gilt, so sagen wir, dass \colorbox{yellow}{$x$ und $y$ \blue{kongruent} modulo $n$} sind.
Anstelle der Notation
\\[0.2cm]
\hspace*{1.3cm}
$x \approx_n y$ 
\quad
finden Sie in der Literatur auch die Schreibweise
\quad
$x \equiv y \;\; (\mathrm{mod}\; n)$.
\\[0.2cm]
Wir zeigen, dass die Relation $\approx_n$ für $n \in \mathbb{N}^*$ eine Äquivalenz-Relation auf
$\mathbb{Z}$ definiert. 

\begin{enumerate}
\item Um zu zeigen, dass $\approx_n$ \blue{reflexiv} ist, müssen wir nachweisen, dass für alle
      $x \in \mathbb{Z}$ die Beziehung
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,x) \in\; \approx_n$.        
      \\[0.2cm]
      gilt.  Nach Definition von $\approx_n$
      ist dies äquivalent zu \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,x) \in \bigl\{ \pair(x,y) \in \mathbb{Z}^2 \mid \exists k \in \mathbb{Z}: k \cdot n = x - y \bigr\}$.
      \\[0.2cm]
      Für eine vorgegebene Zahl $x$ ist dies gleichbedeutend damit, dass \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{Z}: k \cdot n = x - x$
      \\[0.2cm]
      gilt.  Offenbar erfüllt $k=0$ diese Gleichung, denn es gilt: \\[0.2cm]
      \hspace*{1.3cm}
      $0\cdot n = 0 = x - x$. 
      \\[0.2cm]
      Damit ist die Reflexivität nachgewiesen. {\color{green}{$\surd$}}
\item Um die \blue{Symmetrie} von $\approx_n$ nachzuweisen nehmen wir an, dass 
      $\pair(x,y) \in\; \approx_n$ ist.  Dann gibt es also ein $k \in \mathbb{Z}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k\cdot n = x - y$
      \\[0.2cm] 
      gilt.  Multiplizieren wir diese Gleichung mit $-1$, so erhalten wir
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(-k)\cdot n = y - x$.
      \\[0.2cm]
      Dies zeigt aber, dass $\pair(y,x) \in\; \approx_n$ ist und damit ist die Symmetrie
      nachgewiesen. {\color{green}{$\surd$}}
\item Zum Nachweis der \blue{Transitivität} von $\approx$ nehmen wir an, dass
      sowohl
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in\; \approx_n$ \quad als auch \quad $\pair(y,z) \in\; \approx_n$
      \\[0.2cm]
      gelten.  Dann gibt es also $k_1,k_2 \in \mathbb{Z}$ so dass 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $k_1 \cdot n = x - y$ \quad und \quad $k_2 \cdot n = y - z$ 
      \\[0.2cm]
      gelten.  Wir müssen zeigen, dass $\pair(x,z) \in \;\approx_n$ gilt.  Dazu müssen wir zeigen,
      dass es ein $k_3 \in \mathbb{Z}$ gibt, so dass
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_3 \cdot n = x - z$
      \\[0.2cm]
      gilt.  Addieren wir die beiden Gleichungen für $x-y$ und $y-z$, so sehen wir, dass
      \\[0.2cm]
      \hspace*{1.3cm}      
      $(k_1 + k_2) \cdot n = x - z$
      \\[0.2cm]
      gilt.  Definieren wir  $k_3 := k_1 + k_2$, so gilt also $k_3\cdot n = x - z$ und damit haben wir
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in\; \approx_n$ 
      \\[0.2cm]
      nachgewiesen und folglich die Transitivität von $\approx_n$ gezeigt. {\color{green}{$\surd$}} 
      \qeds
\end{enumerate}
\pagebreak 

\exercise
Es sei $n \in \mathbb{N}^*$. Beweisen Sie, dass für alle ganzen Zahlen $x$ und $y$ die Beziehung
\\[0.2cm]
\hspace*{1.3cm}
 $x \approx_n y \;\Leftrightarrow\; x \modulo n = y \modulo n$
\\[0.2cm]
gilt.
\exend


\exercise
Auf der Menge $\mathbb{N} \times \mathbb{N}$ definieren wir eine Relation $R$ wie folgt:
\\[0.2cm]
\hspace*{1.3cm}
$R := \bigl\{ \bigl\langle \pair(x_1, y_1) ,\pair(x_2, y_2) \bigr\rangle \in  (\mathbb{N} \times \mathbb{N})^2 \mid x_1 + y_2 = x_2 + y_1 \bigr\}$
\\[0.2cm]
Zeigen Sie, dass $R$ dann eine Äquivalenz-Relation ist.
\exend


\begin{Satz} Es seien $M$ und $N$ Mengen und 
\\[0.2cm]
\hspace*{1.3cm}
$f : M \rightarrow N$
\\[0.2cm]
sei eine Funktion.  Definieren wir die Relation $R_f \subseteq M \times M$ als
\\[0.2cm]
\hspace*{1.3cm}
$R_f := \bigl\{ \pair(x,y) \in M \times M \mid f(x) = f(y) \bigr\}$,
\\[0.2cm]
so ist $R_f$ eine Äquivalenz-Relation.  
\end{Satz}


\noindent
\textbf{Beweis}: Wir weisen der Reihe nach die \blue{Reflexivität}, \blue{Symmetrie} und \blue{Transitivität} der Relation $R_f$ nach:
\begin{enumerate}
\item $R_f$ ist \blue{reflexiv} auf $M$, denn es gilt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: f(x) = f(x)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \pair(x,x) \in R_f$. {\color{green}{$\surd$}}
\item Um die \blue{Symmetrie} von $R_f$ nachzuweisen, müssen wir
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y \in M: (\pair(x,y) \in R_f \rightarrow \pair(y,x) \in R_f)$
      \\[0.2cm]
      zeigen.  Sei also $\pair(x,y) \in R_f$. Dann gilt nach Definition von $R_f$
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(y) = f(x)$
      \\[0.2cm]
      und nach Definition von $R_f$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(y,x) \in R_f$. {\color{green}{$\surd$}}
\item Um die \blue{Transitivität} von $R_f$ nachzuweisen, müssen wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M: \bigl(\pair(x,y) \in R_f \wedge \pair(y,z) \in R_f \rightarrow 
                            \pair(x,z) \in R_f\bigr)
      $
      \\[0.2cm]
      zeigen.  Gelte also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R_f \wedge \pair(y,z) \in R_f$.
      \\[0.2cm]
      Nach Definition von $R_f$ heißt das 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(y) \wedge f(y) = f(z)$.
      \\[0.2cm]
      Daraus folgt sofort 
      \\[0.2cm]
      \hspace*{1.3cm}
      $f(x) = f(z)$.
      \\[0.2cm]
      Nach Definition der Relation $R_f$ haben wir also 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,z) \in R_f$. {\color{green}{$\surd$}}
      \qeds
\end{enumerate}


\remark
Ist $f: M \rightarrow N$ eine Funktion und gilt
\\[0.2cm]
\hspace*{1.3cm}
$R_f = \bigl\{ \pair(x,y) \in M \times M \mid f(x) = f(y) \bigr\}$ 
\\[0.2cm]
so sagen wir, dass $R_f$ die \colorbox{yellow}{\blue{von $f$ auf M erzeugte}} Äquivalenz-Relation ist.  Wir werden
später sehen, dass es zu jeder  Äquivalenz-Relation eine Funktion gibt, die diese
Äquivalenz-Relation erzeugt. \eoxs 


\example 
Die Äquivalenz-Relation $\approx_n$ wird von der Funktion
\\[0.2cm]
\hspace*{1.3cm}
$x \mapsto x \modulo n$
\\[0.2cm]
erzeugt, denn wir haben in einer Aufgabe gezeigt, dass für alle $x,y \in \mathbb{Z}$ 
\\[0.2cm]
\hspace*{1.3cm}
$x \approx_n y \;\Leftrightarrow\; x \modulo n = y \modulo n$
\\
gilt. \eoxs

\example
Es sei $M$ die Menge aller Menschen und $S$ sei die Menge aller Staaten.  Nehmen wir zur
Vereinfachung an, dass jeder Mensch genau eine Staatsbürgerschaft hat, so können wir eine Funktion
\\[0.2cm]
\hspace*{1.3cm}
$\textsl{sb}: M \rightarrow S$
\\[0.2cm]
definieren, die jedem Menschen $x$ seine Staatsbürgerschaft $\textsl{sb}(x)$ zuordnet.  Bei der durch
diese Funktion definierten Äquivalenz-Relation sind dann alle die Menschen äquivalent, welche dieselbe
Staatsbürgerschaft haben.  \eoxs

\begin{Definition}[Äquivalenz-Klasse]
Ist $R$ eine Äquivalenz-Relation auf $M$, so definieren wir für alle $x \in M$ 
die Menge $[x]_R$ durch \\[0.2cm]
\hspace*{1.3cm} $[x]_R \;:=\; \bigl\{ y \in M \mid \pair(x, y) \in R \bigr\}$. 
\\[0.2cm]
Die Menge $[x]_R$ bezeichnen wir als die von $x$ erzeugte \colorbox{yellow}{\blue{Äquivalenz-Klasse}}.  \eoxs
\end{Definition}

\begin{Satz}[Charakterisierung der Äquivalenz-Klassen] \label{satz:aequivalenz-klassen}
\hspace*{\fill} \\
Ist $R \subseteq M \times M$ eine Äquivalenz-Relation, so gilt: 
\begin{enumerate}
\item $\forall x \el M \colon x \el [x]_R$,
\item $\forall x, y \el M \colon \bigl( \pair(x, y) \in R \rightarrow [x]_R = [y]_R\bigr)$,
\item $\forall x, y \el M \colon \bigl(\pair(x,y) \not\in R \rightarrow [x]_R \cap [y]_R = \emptyset\bigr)$.
\end{enumerate}
\end{Satz}


\remark
Da für $x,y\el M$ entweder $\pair(x,y) \in R$ oder $\pair(x,y) \not\in{R}$ gilt, zeigen die
letzten beiden Eigenschaften, dass zwei Äquivalenz-Klassen entweder gleich
oder disjunkt sind:
\\[0.2cm]
\hspace*{1.3cm}
$\forall x, y \el M: \bigl([x]_R = [y]_R \vee [x]_R \cap [y]_R = \emptyset\bigr)$. \eox

\proof
Wir beweisen die Behauptungen in derselben Reihenfolge wie oben angegeben.
\begin{enumerate}
\item Wir haben $x \el [x]_R$ genau dann, wenn 
      $x \in \bigl\{ y \el M \mid \pair(x,y) \in R \bigr\}$ gilt und letzteres ist
      äquivalent zu $\pair(x,x) \in R$.
      Die Eigenschaft $\pair(x,x) \in R$ folgt aber unmittelbar aus der Reflexivität von $R$. {\color{green}{$\surd$}}
\item Sei  $\pair(x,y) \in R$.  Um $[x]_R = [y]_R$ nachzuweisen zeigen wir
      $[x]_R \subseteq [y]_R$ und $[y]_R \subseteq [x]_R$.

      \begin{enumerate}
      \item Zeige $[x]_R \subseteq [y]_R$:        
            Sei $u \el [x]_R$.  Dann gilt
            \\[0.2cm]
            \hspace*{1.3cm}
            $\pair(x,u) \in R$.  
            \\[0.2cm]
            Aus der Voraussetzung
            $\pair(x,y) \in R$ folgt wegen der \blue{Symmetrie} der Relation $R$, dass auch
            \\[0.2cm]
            \hspace*{1.3cm}
            $\pair(y,x) \in R$ 
            \\[0.2cm]
            gilt.  Aus 
            $\pair(y,x) \in R$ und $\pair(x,u) \in R$ folgt wegen der \blue{Transitivität} der Relation
            $R$, dass
            \\[0.2cm]
            \hspace*{1.3cm}
            $\pair(y,u) \in R$ 
            \\[0.2cm]
            gilt.  Nach der Definition der
            Menge $[y]_R$ folgt damit $u \el [y]_R$. 
            Damit ist $[x]_R \subseteq [y]_R$ nachgewiesen.
      \item Zeige $[y]_R \subseteq [x]_R$:
            Um $[y]_R \subseteq [x]_R$ zu zeigen nehmen wir $u \el [y]_R$ an.
            Dann gilt $\pair(y,u) \in R$.  Aus der Voraussetzung $\pair(x,y) \in R$ und
            $\pair(y,u) \in R$ folgt wegen der \blue{Transitivität} der Relation $R$ sofort
            $\pair(x,u) \in R$.  Dann gilt aber $u \el [x]_R$ und damit ist auch die Inklusion
            $[y]_R \subseteq [x]_R$ nachgewiesen. 
      \end{enumerate}
      Damit haben wir insgesamt die Gleichung $[x]_R = [y]_R$ gezeigt. {\color{green}{$\surd$}}
\item Sei nun $\pair(x,y) \not\in R$ vorausgesetzt.  Um nachzuweisen,
      dass  $[x]_R \cap [y]_R = \emptyset$ ist, nehmen wir an, dass
      es ein $z \el [x]_R \cap [y]_R$ gibt.  Aus dieser Annahme werden wir einen
      Widerspruch zu der Voraussetzung $\pair(x,y) \not\in R$ 
        herleiten.  Sei also $z \el[x]_R$ und $z \el [y]_R$.  Nach Definition
        der Äquivalenz-Klassen $[x]_R$ und $[y]_R$ gilt dann 
      \\[0.2cm]
      \hspace*{1.3cm}      
      $\pair(x,z) \in R$ \quad und \quad $\pair(y,z) \in R$.
      \\[0.2cm]
      Aufgrund der \blue{Symmetrie} von $R$ können wir $\pair(y,z) \in R$ umdrehen und haben dann
      \\[0.2cm]
      \hspace*{1.3cm}      
      $\pair(x,z) \in R$ \quad und \quad $\pair(z,y) \in R$.
      \\[0.2cm]
      Aus der \blue{Transitivität} der Äquivalenz-Relation $R$ folgt jetzt
      $\pair(x,y) \in R$.
      Dies steht aber im Widerspruch zu der Voraussetzung $\pair(x,y) \not\in R$.
      Damit ist die Annahme, dass es ein $z \el [x]_R \cap [y]_R$ gibt, widerlegt.
      Folglich ist die Menge $[x]_R \cap [y]_R$ leer. {\color{green}{$\surd$}}
      \qeds
\end{enumerate}

\begin{Korollar}
Aus dem letzten Satzes folgt sofort, dass für eine Äquivalenz-Relation $R$ auf $M$ gilt:
\\[0.2cm]
\hspace*{1.3cm}
$\pair(x,y) \in R \;\Leftrightarrow\; [x]_R = [y]_R$. \eoxs
\end{Korollar}

\remark
Ist $R \subseteq M \times M$ eine Äquivalenz-Relation auf M, so können wir eine Funktion
\\[0.2cm]
\hspace*{1.3cm}
$f_R : M \rightarrow 2^M$
\\[0.2cm]
durch die Festlegung
\\[0.2cm]
\hspace*{1.3cm}
$f_R(x) := [x]_R = \bigl\{ y \in M \,|\, \pair(x,y) \in R \bigr\}$
\\[0.2cm]
definieren.   Das Korollar zum letzten Satz zeigt dann, dass die Funktion $f_R$ die Äquivalenz-Relation
$R$ \blue{erzeugt}, denn es gilt
\\[0.2cm]
\hspace*{1.3cm}
$
\begin{array}[b]{lcl}
R_{f_R} & = & \bigl\{ \pair(x, y) \in M \times M \mid f_R(x) = f_R(y)  \bigr\}  \\[0.2cm]
        & = & \bigl\{ \pair(x, y) \in M \times M \mid [x]_R = [y]_R    \bigr\}  \\[0.2cm]
        & = & \bigl\{ \pair(x, y) \in M \times M \mid \pair(x,y) \in R \bigr\}  \\[0.2cm]
        & = & R.
\end{array}
$ \eoxs


\begin{Definition}[Quotienten-Raum]
Ist $M$ eine Menge und $R$ eine Äquivalenz-Relation auf $M$ so definieren wir die Menge $M/R$ (lese:
$M$ \blue{modulo} $R$) als die Menge der von $R$ auf $M$ erzeugten Äquivalenz-Klassen:
\\[0.2cm]
\hspace*{1.3cm}
$M/R := \bigl\{ [x]_R \mid x \in M \bigr\}$.
\\[0.2cm]
Die Menge $M/R$ der von $R$ auf $M$ erzeugten Äquivalenz-Klassen nennen wir den
\colorbox{yellow}{\blue{Quotienten-Raum}} vom $M$ über $R$.  \eoxs
\end{Definition}

\example
Setzen wir das letzte Beispiel fort, in dem alle die Menschen äquivalent waren, die dieselbe
Staatsbürgerschaft haben, so finden wir, dass die Äquivalenz-Klassen, die von dieser
Äquivalenz-Relation erzeugt werden, gerade aus den Menschen bestehen, die dieselbe
Staatsbürgerschaft besitzen.  \eoxs
\pagebreak

\example
Auf der Menge $\mathbb{Z}$ definieren wir für $n\in\mathbb{N}$ und $n \geq 2$ die Relation $\approx_n$ wie folgt:
\\[0.2cm]
\hspace*{1.3cm}
$\pair(x, y) \in\; \approx_n$ \quad g.d.w. \quad $x \;\mathtt{\%}\; n = y \;\mathtt{\%}\; n$.
\\[0.2cm]
Wir haben bereits früher gezeigt, dass diese Relation eine Äquivalenz-Relation ist.  Für den Quotienten-Raum, der von dieser Relation erzeugt wird, gilt
\\[0.2cm]
\hspace*{1.3cm}
$\mathbb{Z}/\!\approx_n \;=\; 
  \bigl\{ \{ z \in \mathbb{Z} \mid z \;\mathtt{\%}\; n = k \} \mid k \in \{0,1,\cdots, k-1\} \bigr\}$.
\\[0.2cm]
Der Quotienten-Raum besteht also aus $k$ verschiedenen Mengen.  Falls wir den Fall $n=2$ genauer
betrachten, so stellen wir fest, dass $\mathbb{Z}/\!\approx_2$ aus zwei Mengen besteht:  Der Menge
der geraden Zahlen und der Menge der ungeraden Zahlen.  
\eoxs


\begin{Definition}[Partition] 
Ist ${\cal P} \subseteq 2^M$ eine Menge von Teilmengen von $M$, so sagen wir, dass ${\cal P}$ eine 
\href{https://de.wikipedia.org/wiki/Partition_(Mengenlehre)}{Partition} von $M$ ist, falls
$\mathcal{P}$ die folgenden Eigenschaften hat: 
\begin{enumerate}
\item \colorbox{yellow}{\blue{Vollständigkeits-Eigenschaft}} 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \el M : \exists K \el {\cal P} : x \el K$,

      jedes Element aus $M$ findet sich  in einer Menge aus ${\cal P}$ wieder.
\item \colorbox{yellow}{\blue{Separations-Eigenschaft}}
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall K, L \el {\cal P} : \bigl(K \cap L =\emptyset \vee K = L\bigr)$,
      \\[0.2cm]
      zwei Mengen aus ${\cal P}$ sind also entweder disjunkt oder schon identisch.
\end{enumerate}
Gelegentlich wird eine Partition einer Menge $M$ auch als \colorbox{yellow}{\blue{Zerlegung}} von $M$
bezeichnet. \eoxs
\end{Definition}

\example
Es sei $M := \{ 1, 2, 3, 4, 5, 6, 7 \}$.  Definieren wir die Mengen $A$, $B$ und $C$ als
\\[0.2cm]
\hspace*{1.3cm}
$A := \{ 1, 2, 7 \}$, \quad $B := \{ 3, 4, 5 \}$ \quad und \quad $C := \{6\}$,
\\[0.2cm]
so ist die Menge
\\[0.2cm]
\hspace*{1.3cm}
$\{ A, B, C \}$
\\[0.2cm]
eine Partition der Menge $M$.
\eoxs

\remark
Der letzte Satz (Satz \ref{satz:aequivalenz-klassen}) hat gezeigt, dass für jede Äquivalenz-Relation
$R$ auf einer Menge $M$ der Quotienten-Raum 
\\[0.2cm]
\hspace*{1.3cm}
$M/R = \bigl\{ [x]_R \mid x \in M \bigr\}$
\\[0.2cm]
eine Partition der Menge $M$ darstellt.  Der nächste Satz zeigt, dass auch die Umkehrung gilt, denn
aus jeder Partition einer Menge lässt sich eine Äquivalenz-Relation erzeugen.
\eoxs

\begin{Satz} 
Es sei $M$ eine Menge und $\mathcal{P} \subseteq 2^M$ eine
Partition von $M$.  Definieren wir die Relation $R$ durch
\\[0.2cm]
\hspace*{1.3cm}
$R := \bigl\{ \pair(x,y) \in M \times M \mid \exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \bigr\}$,
\\[0.2cm]
so ist $R$ eine Äquivalenz-Relation auf $M$.
\end{Satz}
\pagebreak

\proof
Wir haben zu zeigen, dass die Relation $R$ \blue{reflexiv}, \blue{symmetrisch} und
\blue{transitiv} ist.
\begin{enumerate}
\item \blue{Reflexivität}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \pair(x,x) \in R$.
      \\[0.2cm]
      Das ist nach Definition der Relation $R$ äquivalent zu der Formel 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: \bigl(x \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      Das können wir sofort zu der Formel
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in M: \exists K \in \mathcal{P}: x \in K$
      \\[0.2cm]
      vereinfachen.  Diese Formel ist nichts anderes als die Vollständigkeit
      der Partition $\mathcal{P}$. {\color{green}{$\surd$}}
\item \blue{Symmetrie}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in M:\bigl( \pair(x,y) \in R \rightarrow \pair(y,x) \in R\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R$ 
      \\[0.2cm]
      gilt.  Nach Definition
      der Relation $R$ ist das äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr)$.
      \\[0.2cm]
      Diese Formel ist offenbar äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(y \in K \wedge x \in K\bigr)$
      \\[0.2cm]
      und nach Definition der Relation $R$ folgt nun 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(y,x) \in R$. {\color{green}{$\surd$}}
\item \blue{Transitivität}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x,y,z \in M:\bigl( \pair(x,y) \in R \wedge \pair(y,z) \in R \rightarrow \pair(x,z) \in R\bigr)$.
      \\[0.2cm]
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\pair(x,y) \in R \wedge \pair(y,z) \in R$
      \\[0.2cm]
      gilt.  Das ist nach Definition der Relation $R$ äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge y \in K\bigr) \wedge 
       \exists L \in \mathcal{P}: \bigl(y \in L \wedge z \in L\bigr)$.
      \\[0.2cm]
      Dann gibt es aber offenbar zwei Mengen $K,L\in\mathcal{P}$, so dass
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \in K \wedge y \in K \cap L \wedge z \in L$
      \\[0.2cm]
      gilt.  Damit ist $K \cap L \not= \emptyset$ und aus der 
      Separations-Eigenschaft der Partition $\mathcal{P}$ folgt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $K = L$.
      \\[0.2cm]
      Damit haben wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists K \in \mathcal{P}: \bigl(x \in K \wedge z \in K\bigr)$
      \\[0.2cm]
      gezeigt und nach Definition der Relation $R$ heißt das 
      $\pair(x,z) \in R$. {\color{green}{$\surd$}}
      \qeds
\end{enumerate}


\section{Partielle und totale Ordnungen}
In dem letzten Abschnitt dieses Kapitels definieren wir
\href{https://de.wikipedia.org/wiki/Ordnungsrelation}{Ordnungs-Relationen}.  Darunter verstehen wir 
Relationen, die sich ähnlich verhalten wie die Relation $\leq$ auf den Zahlen.

\begin{Definition}[partielle Ordnung] \lb
  Eine Relation $R \subseteq M \times M$  ist eine 
  \colorbox{yellow}{\blue{partielle Ordnung (im Sinne von $\leq$) auf $M$}} genau dann, wenn die Relation $R$
  \begin{enumerate}
  \item \blue{reflexiv} auf $M$,
  \item \blue{anti}-symmetrisch und
  \item \blue{transitiv} ist.
  \end{enumerate}
  Die Relation ist darüber hinaus eine \colorbox{yellow}{\blue{totale Ordnung auf $M$}}, wenn zusätzlich
  \\[0.2cm]
  \hspace*{1.3cm} $\forall x \el M : \forall y \el M :\bigl( \pair(x,y) \in \mathop{R} \vee \pair(y,x) \in R\bigr)$
  \\[0.2cm]
  gilt. \eoxs
\end{Definition}

\remark
Eine totale Ordnung wird gelegentlich auch als \colorbox{yellow}{\blue{lineare Ordnung}} bezeichnet. \eoxs

\example 
Die Teilbarkeitsrelation $\mathop{\mathtt{div}}$ kann auf den positiven natürlichen Zahlen
wie folgt definiert werden 
\\[0.2cm]
\hspace*{1.3cm}
$ \mathop{\mathtt{div}} := 
   \bigl\{ \pair(x,y) \in \mathbb{N}^* \times \mathbb{N}^* \mid \exists k \in \mathbb{N}^*: k \cdot x = y\bigr\}$.
\\[0.2cm] 
Wir zeigen, dass diese Relation eine partielle Ordnung auf $\mathbb{N}$ ist und weisen dazu
\blue{Reflexivität}, \blue{Anti-Symmetrie} und \blue{Transitivität} nach.
\begin{enumerate}
\item \blue{Reflexivität}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x \in \mathbb{N}^*: x \mathop{\mathtt{div}} x$.
      \\[0.2cm]
      Nach Definition der Relation $\mathop{\mathtt{div}}$ ist  das äquivalent zu
      \\[0.2cm]
      \hspace*{1.3cm}
      $\exists k \in \mathbb{N}^*: k \cdot x = x$. 
      \\[0.2cm]
      Wir müssen also ein $k$ finden, so dass die Gleichung $k \cdot x = x$ gilt.
      Setzen wir $k=1$, so ist diese Gleichung sicher erfüllt und damit ist die Reflexivität
      gezeigt. {\color{green}{$\surd$}}
\item \blue{Anti-Symmetrie}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y \in \mathbb{N}^*:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x \rightarrow x = y\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} x$
      \\[0.2cm]
      gilt und werden $x=y$ zeigen.  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}^*: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}^*: k_2 \cdot y = x \bigr)$ 
      \\[0.2cm]
      Also gibt es positive natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = x$
      \\[0.2cm]
      gilt.  Setzen wir diese Gleichungen ineinander ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 \cdot y = y$ \quad und \quad
      $k_2 \cdot k_1 \cdot x = x$.
      \\[0.2cm] 
      Da $x$ und $y$ als positive natürliche Zahlen von $0$ verschieden sind, muss dann
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot k_2 = 1$
      \\[0.2cm]
      gelten.  Da aus $k_1 \cdot k_2 = 1$ sofort $k_1 = 1$ und $k_2 = 1$ folgt, denn auch $k_1$ und
      $k_2$ sind ja natürliche Zahlen, 
      können wir wegen der ursprünglichen Gleichungen $k_1 \cdot x = y$ und $k_2 \cdot y = x$
      sofort auf $x = y$ schließen.  Damit ist die Anti-Symmetrie gezeigt. {\color{green}{$\surd$}}
\item \blue{Transitivität}: Zu zeigen ist 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\forall x, y, z \in \mathbb{N}^*:\bigl( x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z \rightarrow x \mathop{\mathtt{div}} z\bigr)$
      \\[0.2cm] 
      Wir nehmen also an, dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} y \wedge y \mathop{\mathtt{div}} z$
      \\[0.2cm]
      gilt und werden $x \mathop{\mathtt{div}} z$ zeigen.  Nach Definition der Relation $\mathop{\mathtt{div}}$
      ist die Annahme äquivalent zu 
      \\[0.2cm]
      \hspace*{1.3cm}
      $\bigl(\exists k_1 \in \mathbb{N}^*: k_1 \cdot x = y \bigr) \wedge
       \bigl(\exists k_2 \in \mathbb{N}^*: k_2 \cdot y = z \bigr)$ 
      \\[0.2cm]
      Also gibt es natürliche Zahlen $k_1$ und $k_2$, so dass 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_1 \cdot x = y \wedge k_2 \cdot y = z$
      \\[0.2cm]
      gilt.  Setzen wir die erste Gleichung in die zweite  ein, so erhalten wir 
      \\[0.2cm]
      \hspace*{1.3cm}
      $k_2 \cdot k_1 \cdot x = z$.
      \\[0.2cm] 
      Setzen wir $k_3 := k_2 \cdot k_1$, so haben wir also $k_3 \cdot x = z$
      und das zeigt 
      \\[0.2cm]
      \hspace*{1.3cm}
      $x \mathop{\mathtt{div}} z$.
      \\[0.2cm]
      Damit haben wir die Transitivität nachgewiesen.  {\color{green}{$\surd$}}
\end{enumerate}
Die Relation $\mathtt{div}$ ist keine totale Ordnung, denn beispielsweise gilt weder
$2 \mathop{\mathtt{div}} 3$ noch $3 \mathop{\mathtt{div}} 2$.  \exend


\exercise
Auf der Potenz-Menge der natürlichen Zahlen definieren wir die Relation
$\subseteq$ als 
\\[0.2cm]
\hspace*{1.3cm}
$\subseteq := 
\bigl\{ \pair(A,B) \in 2^\mathbb{N} \times 2^\mathbb{N}\mid \exists C \in 2^\mathbb{N}: A \cup C = B \bigr\}$
\\[0.2cm]
Zeigen Sie, dass die Relation $\subseteq$ auf $2^\mathbb{N}$ zwar eine partielle, aber keine
totale Ordnung ist.
\exend


\exercise
Auf der Menge $\mathbb{N} \times \mathbb{N}$ definieren wir die Relation $\sqsubseteq$ durch die Festlegung
\\[0.2cm]
\hspace*{1.3cm}
$\pair(x_1, y_1) \sqsubseteq \pair(x_2, y_2)$ \quad g.d.w. \quad 
$x_1 < x_2 \vee (x_1 = x_2 \wedge y_1 \leq y_2)$.  
\\[0.2cm]
Zeigen Sie, dass $\sqsubseteq$ eine totale Ordnung auf $\mathbb{N} \times \mathbb{N}$ ist.
\exend
\vspace*{0.3cm}

\noindent
Wir schließen damit unseren Ausflug in die Mengenlehre ab und verweisen für weitere
Details auf die Literatur, wobei ich Ihnen hier besonders das Buch von Seymour Lipschutz
\cite{lipschutz:1998} empfehlen möchte.  
\vspace*{0.2cm}

\noindent
\textbf{Reflektion}
\begin{enumerate}[(a)]
\item Was ist eine \blue{binäre Relation}?
\item Warum haben wir die Begriffe \blue{rechts-eindeutig}, \blue{links-eindeutig}, \blue{rechts-total} und
      \blue{links-total} eingeführt?
\item Wie ist das \blue{relationale Produkt} zweier Relationen definiert?
\item Wann ist eine Relation $R$ auf einer Menge $M$ \blue{reflexiv}, \blue{symmetrisch},
      \blue{anti-symmetrisch} bzw. \\ \blue{transitiv}?
\item Wie können wir den \blue{transitiven Abschluss} einer Relation berechnen?
\item Was ist eine \blue{Äquivalenz-Relation}?
\item Wie hängen \blue{Äquivalenz-Relationen} mit \blue{Partitionen} zusammen?
\item Was ist eine \blue{partielle Ordnung}?
\end{enumerate}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "lineare-algebra"
%%% ispell-local-dictionary: "deutsch8"
%%% End:
